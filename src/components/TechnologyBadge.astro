---
interface Props {
  name: string;
  version?: string;
  icon?: string;
  color?: string;
}

const { name, version, icon, color = 'default' } = Astro.props;

const colorClasses: Record<string, string> = {
  default: 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200',
  blue: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',
  green: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',
  yellow: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200',
  red: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',
  purple: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200'
};
---

<span class={`tech-badge ${colorClasses[color]}`}>
  {icon && <span class="badge-icon">{icon}</span>}
  <span class="badge-name">{name}</span>
  {version && <span class="badge-version">v{version}</span>}
</span>

<style>
  .tech-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.75rem;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    white-space: nowrap;
  }

  .badge-icon {
    font-size: 1rem;
    line-height: 1;
  }

  .badge-name {
    font-weight: 600;
  }

  .badge-version {
    opacity: 0.75;
    font-size: 0.8125rem;
  }

  /* Tailwind-style utility classes */
  .bg-gray-100 { background-color: var(--sl-color-gray-6); }
  .text-gray-800 { color: var(--sl-color-gray-1); }
  .dark\\:bg-gray-800 { background-color: var(--sl-color-gray-5); }
  .dark\\:text-gray-200 { color: var(--sl-color-gray-2); }

  .bg-blue-100 { background-color: #dbeafe; }
  .text-blue-800 { color: #1e40af; }
  .dark\\:bg-blue-900 { background-color: #1e3a8a; }
  .dark\\:text-blue-200 { color: #bfdbfe; }

  .bg-green-100 { background-color: #dcfce7; }
  .text-green-800 { color: #166534; }
  .dark\\:bg-green-900 { background-color: #14532d; }
  .dark\\:text-green-200 { color: #bbf7d0; }

  .bg-yellow-100 { background-color: #fef3c7; }
  .text-yellow-800 { color: #854d0e; }
  .dark\\:bg-yellow-900 { background-color: #713f12; }
  .dark\\:text-yellow-200 { color: #fef08a; }

  .bg-red-100 { background-color: #fee2e2; }
  .text-red-800 { color: #991b1b; }
  .dark\\:bg-red-900 { background-color: #7f1d1d; }
  .dark\\:text-red-200 { color: #fecaca; }

  .bg-purple-100 { background-color: #f3e8ff; }
  .text-purple-800 { color: #6b21a8; }
  .dark\\:bg-purple-900 { background-color: #581c87; }
  .dark\\:text-purple-200 { color: #e9d5ff; }
</style>
